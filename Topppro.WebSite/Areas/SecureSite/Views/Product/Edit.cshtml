@using Framework.MVC.Resources
@using Topppro.Entities.Resources

@model Topppro.Entities.Product

@{
    ViewBag.Title = PersistanceResource.Edit;
}

@section Styles {
    <link rel="Stylesheet" type="text/css" href="@Url.Content("~/Areas/SecureSite/Scripts/dataTables/dataTables.bootstrap.css")" />
    <style type="text/css">
        #bullet-modal .modal-header
        {
            background-color: #800000;
            color: #ffffff;
        }
        #attribute-modal .modal-header
        {
            background-color: #222999;
            color: #ffffff;
        }
        .tooltip-inner
        {
            max-width: 300px;
            padding: 0;
        }
        .tooltip-alert
        {
            padding: 8px 10px;
            font-weight: bolder;
            color: #A94442;
        }
    </style>
}

<h2>@PersistanceResource.Edit</h2>

<ul class="nav nav-tabs">
    <li class="active">
        <a href="#product" data-toggle="tab" aria-expanded="true">@Ent_ProductResource._Caption</a>
    </li>
    <li>
        <a href="#bullet" data-toggle="tab" aria-expanded="true">@Ent_BulletResource._Caption</a>
    </li>
    <li>
        <a href="#attribute" data-toggle="tab" aria-expanded="false">@Ent_AttributeResource._Caption</a>
    </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="product">
        @using (Html.BeginForm())
        {
            @Html.ValidationSummary(true)
            
            <fieldset>
                @Html.HiddenFor(model => model.ProductId)
                @Html.EditorFor(model => Model)
                <p>
                    <input class="btn btn-primary" type="submit" value="@PersistanceResource.Save" />
                </p>
            </fieldset>
        }
    </div>
    <div class="tab-pane fade" id="bullet">
        @Html.Action("Index", "Bullet", new { id = Model.Id })
    </div>
    <div class="tab-pane fade" id="attribute">
        @Html.Action("Index", "Attribute", new { id = Model.Id })
    </div>
</div>

<div>
    @Html.ActionLink("Back to List", "Index")
</div>

@section Scripts {
    @Html.Partial("_Validation")
    <script src="@Url.Content("~/Areas/SecureSite/Scripts/jquery.unobtrusive-ajax.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Areas/SecureSite/Scripts/dataTables/jquery.dataTables.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Areas/SecureSite/Scripts/dataTables/dataTables.bootstrap.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Areas/SecureSite/Scripts/tinymce/tinymce.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Areas/SecureSite/Scripts/tinymce/jquery.tinymce.min.js")" type="text/javascript"></script>
    <script type="text/javascript">
        $(document).ajaxError(function (event, xhr, settings, error) {
            alert(xhr.responseText);
        });
    </script>
}
